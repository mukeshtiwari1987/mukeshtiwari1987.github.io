<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GoJS Minimal Graph</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gojs/2.3.10/go.js"></script>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
    #myDiagramDiv {
      width: 100%;
      height: 100%;
      background-color: #f5f5f5;
    }
  </style>
</head>
<body>
  <div id="myDiagramDiv"></div>

  <script>
    const $ = go.GraphObject.make;
    
    // Initialize the Diagram
    const myDiagram = $(go.Diagram, "myDiagramDiv", {
      "undoManager.isEnabled": true,
      "toolManager.mouseWheelBehavior": go.ToolManager.WheelZoom,
      initialContentAlignment: go.Spot.Center,
      "animationManager.duration": 600
    });

    // Define the node template
    myDiagram.nodeTemplate =
      $(go.Node, "Auto",
        {
          selectable: true,
          resizable: true,
          resizeObjectName: "SHAPE",
          layoutConditions: go.Part.LayoutStandard & ~go.Part.LayoutNodeSized
        },
        // Enable dragging of nodes
        new go.Binding("location", "loc", go.Point.parse).makeTwoWay(go.Point.stringify),
        $(go.Shape, "RoundedRectangle",
          {
            name: "SHAPE",
            fill: "#ffffff",
            stroke: "#000000",
            strokeWidth: 1,
            portId: "",
            fromLinkable: true,
            toLinkable: true,
            cursor: "pointer"
          },
          new go.Binding("fill", "color"),
          new go.Binding("desiredSize", "size", go.Size.parse).makeTwoWay(go.Size.stringify)),
        $(go.TextBlock,
          {
            margin: 8,
            font: "bold 12px sans-serif",
            editable: true
          },
          new go.Binding("text").makeTwoWay())
      );

    // Define the link template
    myDiagram.linkTemplate =
      $(go.Link,
        {
          routing: go.Link.AvoidsNodes,
          corner: 5,
          curve: go.Link.JumpOver,
          reshapable: true, 
          relinkableFrom: true, 
          relinkableTo: true
        },
        $(go.Shape, { stroke: "#2E86C1", strokeWidth: 1.5 }),
        $(go.Shape, { toArrow: "Standard", fill: "#2E86C1", stroke: null })
      );

    // Create the model data
    const nodeDataArray = [
      { key: 1, text: "Node 1", color: "#6C8EBF", loc: "0 0", size: "120 60" },
      { key: 2, text: "Node 2", color: "#D5E8D4", loc: "150 0", size: "120 60" },
      { key: 3, text: "Node 3", color: "#FFE6CC", loc: "0 150", size: "120 60" },
      { key: 4, text: "Node 4", color: "#F8CECC", loc: "150 150", size: "120 60" }
    ];
    
    const linkDataArray = [
      { from: 1, to: 2 },
      { from: 1, to: 3 },
      { from: 3, to: 4 },
      { from: 2, to: 4 }
    ];
    
    // Initialize the model
    myDiagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
  </script>
</body>
</html>